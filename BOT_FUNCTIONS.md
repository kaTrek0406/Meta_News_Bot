# üìã –§—É–Ω–∫—Ü–∏–∏ –±–æ—Ç–∞ - –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

## ‚úÖ –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ!

### üîÑ 1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

**–ö–æ–¥:** `src/tg/bot.py` ‚Üí `_daily_job()`, `_schedule_daily()`

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é (–Ω–∞—Å—Ç—Ä–æ–π–∫–∞ `DAILY_DISPATCH_TIME`, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 09:00)
- –ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å: `TZ` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é Europe/Chisinau)
- –í—ã–∑—ã–≤–∞–µ—Ç `run_update()` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—Å–µ—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

**–ù–∞—Å—Ç—Ä–æ–π–∫–∏:**
```env
DAILY_DISPATCH_TIME=09:00        # –í—Ä–µ–º—è —Ä–∞—Å—Å—ã–ª–∫–∏
TZ=Europe/Chisinau                # –ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å
DAILY_DEV_ONLY=0                  # 1=—Ç–æ–ª—å–∫–æ dev, 0=–≤—Å–µ–º
```

---

### üì¢ 2. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö

**–ö–æ–¥:** `src/tg/bot.py` ‚Üí `_daily_job()` —Å—Ç—Ä–æ–∫–∏ 111-148

**–õ–æ–≥–∏–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏:**
```python
# –û–ø—Ä–µ–¥–µ–ª—è–µ–º –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π
if DAILY_DEV_ONLY == "1":
    recipients = [DEV_ID]          # –¢–æ–ª—å–∫–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É
else:
    recipients = parse_chat_ids()  # –í—Å–µ–º –∏–∑ TELEGRAM_CHAT_ID
```

**–ü–æ–ª—É—á–∞—Ç–µ–ª–∏:**
- –ï—Å–ª–∏ `DAILY_DEV_ONLY=1` ‚Üí —Ç–æ–ª—å–∫–æ `TELEGRAM_DEV_CHAT_ID` (527824690)
- –ï—Å–ª–∏ `DAILY_DEV_ONLY=0` ‚Üí –≤—Å–µ–º –∏–∑ `TELEGRAM_CHAT_ID` (527824690,709195195,506221717,401439647,758348467)

**–ß—Ç–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è:**
- –ï—Å–ª–∏ –Ω–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π: "üü¢ –ó–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Å—É—Ç–∫–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π –Ω–µ—Ç."
- –ï—Å–ª–∏ –µ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è: –¥–µ—Ç–∞–ª—å–Ω—ã–π diff –¥–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã

‚úÖ **–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:** –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏–¥—É—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –ø–æ–ª—É—á–∞—Ç–µ–ª—è–º

---

### üåê 3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–≤–æ–¥ –∏ —Å–∂–∞—Ç–∏–µ

**–ö–æ–¥:** `src/tg/bot.py` ‚Üí —Å—Ç—Ä–æ–∫–∏ 93-97, 134-138

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
```python
def _needs_translation(s: str, max_len: int) -> bool:
    en = len(re.findall(r"[A-Za-z]", s))
    total = max(1, len(s))
    return en / total > 0.15 or len(s) > max_len
```

**–£—Å–ª–æ–≤–∏—è –ø–µ—Ä–µ–≤–æ–¥–∞:**
- –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –±–æ–ª–µ–µ 15% –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º ‚Üí –ø–µ—Ä–µ–≤–æ–¥–∏—Ç
- –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –¥–ª–∏–Ω–Ω–µ–µ `MAX_NOTIFY_CHARS` (1200) ‚Üí —Å–∂–∏–º–∞–µ—Ç

**–ù–∞—Å—Ç—Ä–æ–π–∫–∏:**
```env
AUTO_TRANSLATE_DIFFS=1            # –í–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ-–ø–µ—Ä–µ–≤–æ–¥
MAX_NOTIFY_CHARS=1200             # –ú–∞–∫—Å –¥–ª–∏–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
```

**–§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–≤–æ–¥–∞:** `translate_compact_html()` –≤ `llm_client.py`
- –ü–µ—Ä–µ–≤–æ–¥–∏—Ç –Ω–∞ —Ä—É—Å—Å–∫–∏–π
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç HTML —Ç–µ–≥–∏ (<b>, <i>, <a>)
- –°–∂–∏–º–∞–µ—Ç –¥–æ —É–∫–∞–∑–∞–Ω–Ω–æ–π –¥–ª–∏–Ω—ã
- –£–±–∏—Ä–∞–µ—Ç –ª–∏—à–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã

‚úÖ **–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:** –ü–µ—Ä–µ–≤–æ–¥ –∏ —Å–∂–∞—Ç–∏–µ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

### ‚ö†Ô∏è 4. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É

**–ì–¥–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**

#### 4.1. –û—à–∏–±–∫–∏ –±–æ—Ç–∞ (handlers, –∫–æ–º–∞–Ω–¥—ã)
**–ö–æ–¥:** `src/tg/bot.py` ‚Üí `error_handler()` —Å—Ç—Ä–æ–∫–∏ 164-186

```python
async def error_handler(update, context):
    # –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã (2 –±–æ—Ç–∞ –≤–æ –≤—Ä–µ–º—è —Ä–µ–¥–µ–ø–ª–æ—è)
    if isinstance(context.error, Conflict):
        log.warning("‚ö†Ô∏è –ö–æ–Ω—Ñ–ª–∏–∫—Ç –±–æ—Ç–æ–≤...")
        return
    
    # –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ—à–∏–±–∫—É –¢–û–õ–¨–ö–û —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É
    dev_id = _dev_id()
    if dev_id:
        await bot.send_message(dev_id, f"‚ö†Ô∏è –û—à–∏–±–∫–∞ –≤ –±–æ—Ç–µ: {error}")
```

**–ü–æ–ª—É—á–∞—Ç–µ–ª—å:** –¢–û–õ–¨–ö–û `TELEGRAM_DEV_CHAT_ID` (527824690)

#### 4.2. –û—à–∏–±–∫–∏ LLM (OpenRouter)
**–ö–æ–¥:** `src/llm_client.py` ‚Üí `_notify_error()` —Å—Ç—Ä–æ–∫–∏ 29-40

```python
def _notify_error(msg: str):
    chat_id = TELEGRAM_DEV_CHAT_ID or first_chat_id(TELEGRAM_CHAT_ID)
    # –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç "‚ö†Ô∏è –û—à–∏–±–∫–∞ LLM: ..."
```

**–ü–æ–ª—É—á–∞—Ç–µ–ª—å:** `TELEGRAM_DEV_CHAT_ID` (527824690) –∏–ª–∏ –ø–µ—Ä–≤—ã–π –∏–∑ `TELEGRAM_CHAT_ID`

#### 4.3. –û—à–∏–±–∫–∏ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–π —Ä–∞—Å—Å—ã–ª–∫–∏
**–ö–æ–¥:** `src/tg/bot.py` ‚Üí `_daily_job()` —Å—Ç—Ä–æ–∫–∏ 143-148

```python
except Exception as e:
    log.error("daily job error: %s", e)
    did = _dev_id()
    if did:
        await _send_html(app, did, f"‚ö†Ô∏è –û—à–∏–±–∫–∞ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–π —Ä–∞—Å—Å—ã–ª–∫–∏: {e}")
```

**–ü–æ–ª—É—á–∞—Ç–µ–ª—å:** –¢–û–õ–¨–ö–û `TELEGRAM_DEV_CHAT_ID` (527824690)

‚úÖ **–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:** –í—Å–µ –æ—à–∏–±–∫–∏ –∏–¥—É—Ç –¢–û–õ–¨–ö–û —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É

---

### üõ†Ô∏è 5. –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

#### `/start` –∏–ª–∏ `/menu`
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –º–µ–Ω—é —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤—Å–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º

#### `/refresh`
- –û–±–Ω–æ–≤–ª—è–µ—Ç –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –≤—Ä—É—á–Ω—É—é
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ä–∞–∑—É –≤ —á–∞—Ç–µ
- **–î–æ—Å—Ç—É–ø–Ω–æ –≤—Å–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º**
- –ü—Ä–∏–º–µ–Ω—è–µ—Ç –ø–µ—Ä–µ–≤–æ–¥ –∏ —Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—é HTML

#### `/status`
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É:
  - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
  - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π
  - –ü–æ—Å–ª–µ–¥–Ω—è—è –ø—Ä–æ–≤–µ—Ä–∫–∞
  - –†–∞–∑–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- **–î–æ—Å—Ç—É–ø–Ω–æ –≤—Å–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º**

#### `/help`
- –°–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º
- **–î–æ—Å—Ç—É–ø–Ω–æ –≤—Å–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º**

#### `/testdispatch`
- –¢–µ—Å—Ç–æ–≤–∞—è —Ä–∞—Å—Å—ã–ª–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- **–î–æ—Å—Ç—É–ø–Ω–æ –¢–û–õ–¨–ö–û —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É** (–ø—Ä–æ–≤–µ—Ä–∫–∞ `user.id == DEV_ID`)
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ –õ–° —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

‚úÖ **–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:** –í—Å–µ –∫–æ–º–∞–Ω–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ

---

### üîê 6. –°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è HTML –¥–ª—è Telegram

**–ö–æ–¥:** `src/tg/handlers.py` ‚Üí `_sanitize_telegram_html()` —Å—Ç—Ä–æ–∫–∏ 27-36

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ó–∞–º–µ–Ω—è–µ—Ç `<h1>`-`<h6>` –Ω–∞ `<b>`
- –£–¥–∞–ª—è–µ—Ç –Ω–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–µ–≥–∏ (`<div>`, `<span>`, `<p>`, `<br>`, etc.)
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ: `<b>`, `<i>`, `<u>`, `<s>`, `<a>`, `<code>`, `<pre>`

**–ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –≤–µ–∑–¥–µ:**
- –í –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–π —Ä–∞—Å—Å—ã–ª–∫–µ (bot.py:139)
- –í `/refresh` (handlers.py:409)
- –í –∫–Ω–æ–ø–∫–µ "–û–±–Ω–æ–≤–∏—Ç—å" (handlers.py:455)
- –í `/testdispatch` (handlers.py:498)

‚úÖ **–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:** –°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ

---

### üíæ 7. –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫—ç—à–∞ (GitHub Gist)

**–ö–æ–¥:** `src/backup_storage.py` + `src/storage.py`

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**

#### –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ:
```python
def save_cache(data):
    # 1. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ –≤ data/cache/cache.json
    # 2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ª–∞–µ—Ç backup –≤ Gist (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω)
    if BACKUP_ENABLED:
        backup_to_gist(data)
```

#### –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ:
```python
def load_cache():
    # 1. –ü—ã—Ç–∞–µ—Ç—Å—è –∑–∞–≥—Ä—É–∑–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ
    # 2. –ï—Å–ª–∏ –Ω–µ—Ç - –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∏–∑ Gist
    if not local_exists and BACKUP_ENABLED:
        data = restore_from_gist()
        save_cache(data)  # –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ
```

**–ù–∞—Å—Ç—Ä–æ–π–∫–∏:**
```env
GITHUB_BACKUP_TOKEN=ghp_...       # GitHub Personal Access Token
GITHUB_GIST_ID=abc123...          # ID –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ Gist
```

‚úÖ **–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:** –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

---

### üåç 8. –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö —è–∑—ã–∫–æ–≤

**–ö–æ–¥:** `src/fetch.py` + `src/pipeline.py`

**–ó–∞–≥–æ–ª–æ–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤:**
```python
HEADERS = {
    "User-Agent": "Mozilla/5.0 Chrome/131.0.0.0",
    "Accept-Language": "en-US,en;q=0.9",  # –Ø–≤–Ω–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –∞–Ω–≥–ª–∏–π—Å–∫–∏–π
    # ... –¥—Ä—É–≥–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –±—Ä–∞—É–∑–µ—Ä–∞
}
```

‚úÖ **–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:** –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∞–Ω–≥–ª–∏–π—Å–∫–∞—è –≤–µ—Ä—Å–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü

---

## üéØ –ò—Ç–æ–≥–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

| –§—É–Ω–∫—Ü–∏—è | –°—Ç–∞—Ç—É—Å | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|---------|--------|-------------|
| –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é | ‚úÖ | 09:00 Europe/Chisinau |
| –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤—Å–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º | ‚úÖ | –ï—Å–ª–∏ `DAILY_DEV_ONLY=0` |
| –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ dev | ‚úÖ | –ï—Å–ª–∏ `DAILY_DEV_ONLY=1` |
| –û—à–∏–±–∫–∏ —Ç–æ–ª—å–∫–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É | ‚úÖ | –í—Å–µ —Ç–∏–ø—ã –æ—à–∏–±–æ–∫ ‚Üí DEV_ID |
| –ê–≤—Ç–æ–ø–µ—Ä–µ–≤–æ–¥ –Ω–∞ —Ä—É—Å—Å–∫–∏–π | ‚úÖ | –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç >15% –∞–Ω–≥–ª–∏–π—Å–∫–∏–π |
| –ê–≤—Ç–æ—Å–∂–∞—Ç–∏–µ –¥–ª–∏–Ω–Ω—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤ | ‚úÖ | –ï—Å–ª–∏ >1200 —Å–∏–º–≤–æ–ª–æ–≤ |
| –°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è HTML | ‚úÖ | –í–æ –≤—Å–µ—Ö –æ—Ç–ø—Ä–∞–≤–∫–∞—Ö |
| –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫—ç—à–∞ | ‚úÖ | –ß–µ—Ä–µ–∑ GitHub Gist |
| –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –∞—Ä–∞–±—Å–∫–æ–≥–æ —è–∑—ã–∫–∞ | ‚úÖ | Accept-Language: en-US |
| –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ –±–æ—Ç–æ–≤ | ‚úÖ | –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –ø—Ä–∏ —Ä–µ–¥–µ–ø–ª–æ–µ |
| –ö–æ–º–∞–Ω–¥—ã `/start`, `/menu` | ‚úÖ | –î–æ—Å—Ç—É–ø–Ω—ã –≤—Å–µ–º |
| –ö–æ–º–∞–Ω–¥–∞ `/refresh` | ‚úÖ | –î–æ—Å—Ç—É–ø–Ω–∞ –≤—Å–µ–º |
| –ö–æ–º–∞–Ω–¥–∞ `/status` | ‚úÖ | –î–æ—Å—Ç—É–ø–Ω–∞ –≤—Å–µ–º |
| –ö–æ–º–∞–Ω–¥–∞ `/testdispatch` | ‚úÖ | –¢–æ–ª—å–∫–æ –¥–ª—è DEV_ID |

---

## üìù –¢–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ .env.template

```env
# –ë–æ—Ç
TELEGRAM_BOT_TOKEN=8227516267:AAHcDd81vjYCedMt06qCimAYcy2g_Iulcyw
TELEGRAM_CHAT_ID=527824690,709195195,506221717,401439647,758348467
TELEGRAM_DEV_CHAT_ID=527824690

# –†–∞—Å—Å—ã–ª–∫–∞
DAILY_DISPATCH_TIME=09:00
TZ=Europe/Chisinau
DAILY_DEV_ONLY=0              # 0 = –≤—Å–µ–º, 1 = —Ç–æ–ª—å–∫–æ dev

# –ü–µ—Ä–µ–≤–æ–¥
AUTO_TRANSLATE_DIFFS=1
MAX_NOTIFY_CHARS=1200

# LLM
OPENROUTER_API_KEY=sk-or-v1-...
LLM_MODEL=openai/gpt-4o-mini
```

---

## üö¶ –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –æ—à–∏–±–∫–µ —Ä–µ–¥–µ–ø–ª–æ—è:

```
Error: Conflict: terminated by other getUpdates request
```

**–≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ!** –ü—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ —Ä–µ–¥–µ–ø–ª–æ–µ –Ω–∞ Railway:
1. –°—Ç–∞—Ä—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –µ—â–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
2. –ù–æ–≤—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —É–∂–µ –∑–∞–ø—É—Å—Ç–∏–ª—Å—è
3. –û–±–∞ –ø—ã—Ç–∞—é—Ç—Å—è –ø–æ–ª—É—á–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ—Ç Telegram
4. Telegram –≥–æ–≤–æ—Ä–∏—Ç: "–ö–æ–Ω—Ñ–ª–∏–∫—Ç!"
5. –ù–∞—à –æ–±—Ä–∞–±–æ—Ç—á–∏–∫: `log.warning()` –∏ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç
6. –°—Ç–∞—Ä—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ ~30 —Å–µ–∫—É–Ω–¥
7. –í—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ

**–ù–∏–∫–∞–∫–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è** ‚úÖ

---

–í—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ! üéâ
